{{- if .Values.pdb.enabled }}
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata: { name: frontend-pdb, namespace: {{ include "lr.ns" . }} }
spec:
  minAvailable: {{ .Values.pdb.minAvailable }}
  selector: { matchLabels: { app: frontend } }
---
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata: { name: backend-pdb, namespace: {{ include "lr.ns" . }} }
spec:
  minAvailable: {{ .Values.pdb.minAvailable }}
  selector: { matchLabels: { app: backend } }
{{- end }}
